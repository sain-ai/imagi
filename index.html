<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <title>PROJECT â€“ DigitalBridge (Final Perfect)</title>
  <meta name="viewport" content="width=device-width,initial-scale=1.0" />
  <style>
    /* --- [1. ê¸°ë³¸ & í° í”„ë ˆì„ (ë””ìì¸ ìœ ì§€)] --- */
    * { box-sizing: border-box; margin: 0; padding: 0; }
    body {
      min-height: 100vh;
      display: flex;
      justify-content: center;
      align-items: center;
      background: #111827;
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
    }
    .phone {
      width: 100%;
      max-width: 420px;
      aspect-ratio: 9 / 19.5;
      background: #020617;
      border-radius: 28px;
      position: relative;
      overflow: hidden;
      box-shadow: 0 20px 40px rgba(0,0,0,0.6);
      color: #f9fafb;
    }

    /* --- [2. í™”ë©´ ì „í™˜ ê³µí†µ] --- */
    .screen {
      position: absolute;
      inset: 0;
      display: flex;
      flex-direction: column;
      /* ë°°ê²½ ê·¸ë¼ë°ì´ì…˜ ìœ ì§€ */
      background: linear-gradient(180deg, #0f172a 0, #020617 42%, #020617 100%);
      padding: 18px 18px 24px; /* íŒ¨ë”© ìœ ì§€ */
      opacity: 0;
      pointer-events: none;
      transition: opacity 0.3s ease;
      z-index: 0;
    }
    .screen.active {
      opacity: 1;
      pointer-events: auto;
      z-index: 10;
    }
    /* ìŠ¤í”Œë˜ì‹œ, ë¡œë”©, ì—­í• ì„ íƒì€ ì¤‘ì•™ ì •ë ¬ */
    .screen.center-layout {
      justify-content: center;
      align-items: center;
      padding: 20px;
    }

    /* --- [3. ì»´í¬ë„ŒíŠ¸: ë¡œë” & ìŠ¤í”Œë˜ì‹œ (ë””ìì¸ ë³µêµ¬)] --- */
    .loader { width: 72px; height: 72px; transform: rotate(-90deg); }
    .loader circle { fill: none; stroke-width: 4; stroke-linecap: round; }
    .loader-bg { stroke: rgba(148,163,184,0.35); }
    .loader-progress { stroke: #38bdf8; stroke-dasharray: 188.4; stroke-dashoffset: 188.4; animation: progressFill 3s ease-out forwards; }
    @keyframes progressFill { to { stroke-dashoffset: 0; } }

    .splash-title { font-size: 24px; font-weight: 700; letter-spacing: 0.14em; text-transform: uppercase; }
    .brand { font-size: 20px; font-weight: 600; margin-top: 4px; color: #38bdf8; }
    .splash-sub { font-size: 15px; color: #cbd5f5; margin-top: 6px; line-height: 1.5; text-align: center; }
    .loader-wrapper { margin-top: 24px; display: flex; flex-direction: column; align-items: center; gap: 8px; color: #9ca3af; font-size: 13px; }

    /* --- [4. ì—­í•  ì„ íƒ í™”ë©´ (ë¹„ìœ¨ ìœ ì§€, ì•ˆ ëŠ˜ì–´ë‚¨)] --- */
    .role-wrapper { width: 100%; padding: 28px 16px; display: flex; flex-direction: column; align-items: center; gap: 24px; }
    .role-chip { font-size: 13px; padding: 6px 14px; border-radius: 999px; border: 1px solid rgba(148,163,184,0.7); color: #cbd5f5; background: rgba(15,23,42,0.9); }
    .role-title { font-size: 22px; font-weight: 700; text-align: center; }
    .role-boxes { margin-top: 12px; width: 100%; display: flex; gap: 16px; }
    .role-card {
      flex: 1; 
      aspect-ratio: 4 / 5; /* ë¹„ìœ¨ ìœ ì§€ (ì•ˆ ëŠ˜ì–´ë‚¨) */
      border-radius: 20px; padding: 20px 14px;
      background: linear-gradient(150deg, #020617 0, #020617 45%, #0f172a 100%);
      border: 1px solid rgba(148,163,184,0.6);
      display: flex; flex-direction: column; justify-content: center; align-items: center; gap: 10px;
      cursor: pointer; text-align: center; box-shadow: 0 10px 24px rgba(15,23,42,0.9); transition: 0.18s ease;
    }
    .role-card.active { background: linear-gradient(145deg, #1d4ed8 0, #38bdf8 100%); border-color: #93c5fd; }
    .role-card-icon { font-size: 32px; margin-bottom: 4px; }
    .role-main { font-size: 17px; font-weight: 600; }
    .role-sub { font-size: 12px; color: #e5e7eb; opacity: 0.9; line-height: 1.4; }

    /* --- [5. ë©”ì¸ í™ˆ (ì—¬ê¸°ê°€ í•µì‹¬: ê½‰ ì°¨ê²Œ ëŠ˜ì–´ë‚˜ëŠ” Flex ë³µêµ¬)] --- */
    .status-bar { width: 100%; display: flex; justify-content: space-between; align-items: center; font-size: 12px; color: #9ca3af; opacity: 0.9; margin-bottom: 8px; }
    .header { width: 100%; margin-top: 4px; display: flex; justify-content: space-between; align-items: center; margin-bottom: 12px; }
    .app-name { font-size: 21px; font-weight: 700; }
    .app-sub { font-size: 13px; color: #a5b4fc; }
    .header-badge { padding: 5px 10px; border-radius: 999px; border: 1px solid rgba(148,163,184,0.7); font-size: 12px; background: rgba(15,23,42,0.85); }

    /* â˜…â˜…â˜… ë³µêµ¬ëœ Flex Layout â˜…â˜…â˜… */
    .home-body {
      flex: 1; /* í™”ë©´ ëê¹Œì§€ ì±„ì›€ */
      width: 100%; margin-top: 4px;
      background: rgba(15,23,42,0.96); border-radius: 20px; border: 1px solid rgba(31,41,55,0.85);
      padding: 20px 18px 16px; /* ë„‰ë„‰í•œ íŒ¨ë”© */
      display: flex; flex-direction: column; gap: 16px; 
      position: relative;
    }

    .home-title { font-size: 19px; font-weight: 600; margin-bottom: 4px; }
    .home-desc { font-size: 14px; color: #9ca3af; line-height: 1.5; }

    /* ìƒë‹¨ ë²„íŠ¼ ì˜ì—­: ë‚¨ì€ ê³µê°„ 50% ì°¨ì§€ */
    .home-buttons { display: flex; flex-direction: column; gap: 12px; flex: 1; }
    .home-btn {
      flex: 1; /* ë²„íŠ¼ë„ ìœ„ì•„ë˜ë¡œ ê½‰ ì°¨ê²Œ */
      width: 100%; border-radius: 16px; padding: 0 18px; border: none;
      text-align: left; cursor: pointer; display: flex; justify-content: space-between; align-items: center;
      background: linear-gradient(135deg, #1e293b 0, #0f172a 100%); color: #e5e7eb;
      box-shadow: 0 8px 18px rgba(15,23,42,0.8);
    }
    .home-btn.secondary { background: linear-gradient(135deg, #0b1120 0, #020617 100%); box-shadow: 0 6px 14px rgba(15,23,42,0.6); }
    .home-btn-main { font-size: 17px; font-weight: 600; margin-bottom: 6px; }
    .home-btn-sub { font-size: 13px; color: #9ca3af; line-height: 1.4; }
    .home-btn-icon { font-size: 24px; opacity: 0.9; }

    /* í•˜ë‹¨ ì¹´ë“œ ì˜ì—­: ë‚¨ì€ ê³µê°„ 50% ì°¨ì§€ */
    .info-section { display: flex; flex-direction: column; gap: 12px; flex: 1; width: 100%; }
    .info-row { display: flex; gap: 12px; width: 100%; flex: 1; }
    .info-card {
      flex: 1; /* ì¹´ë“œë„ ìœ„ì•„ë˜ë¡œ ê½‰ ì°¨ê²Œ */
      height: 100%; padding: 16px 18px; border-radius: 16px;
      background: rgba(15,23,42,0.98); border: 1px solid rgba(55,65,81,0.95);
      display: flex; flex-direction: column; justify-content: center; gap: 8px;
      cursor: pointer; transition: all 0.15s ease;
    }
    .info-card:hover { transform: translateY(-2px); border-color: #60a5fa; background: rgba(15,23,42,1); }
    .info-card-header { display: flex; align-items: center; justify-content: space-between; }
    .info-card-title { font-weight: 600; color: #e5e7eb; font-size: 15px; }
    .info-card-text { color: #9ca3af; line-height: 1.4; font-size: 13px; }
    .info-card-wide { width: 100%; flex: 1; }

    /* ìŒì„± ì˜ì—­ */
    .voice-area { padding-top: 6px; display: flex; flex-direction: column; align-items: center; gap: 10px; }
    .voice-btn {
      width: 70px; height: 70px; border-radius: 999px; border: none;
      background: radial-gradient(circle, #38bdf8 0, #1d4ed8 55%, #020617 100%);
      display: flex; justify-content: center; align-items: center; color: #f9fafb;
      font-size: 28px; box-shadow: 0 10px 24px rgba(59,130,246,0.7); cursor: pointer;
    }
    .voice-label { font-size: 13px; color: #9ca3af; text-align: center; }

    /* --- [6. ì„œë¸Œ ê¸°ëŠ¥ (ê¸°ëŠ¥ ì‘ë™ìš© ìŠ¤íƒ€ì¼)] --- */
    .header-nav { display: flex; align-items: center; gap: 12px; padding-bottom: 16px; border-bottom: 1px solid rgba(31,41,55,0.6); margin-bottom: 16px; }
    .back-btn { background: none; border: none; color: #e5e7eb; font-size: 24px; cursor: pointer; padding: 4px; }
    .page-title { font-size: 18px; font-weight: 600; }

    /* ë¦¬ìŠ¤íŠ¸ ìŠ¤íƒ€ì¼ */
    .list-container { flex: 1; overflow-y: auto; display: flex; flex-direction: column; gap: 12px; }
    .list-item {
      padding: 24px 20px; /* í„°ì¹˜í•˜ê¸° ì¢‹ê²Œ í¼ì§í•˜ê²Œ */
      border-radius: 16px;
      background: rgba(30, 41, 59, 0.6); border: 1px solid rgba(75, 85, 99, 0.4);
      display: flex; justify-content: space-between; align-items: center;
      cursor: pointer; transition: 0.2s;
    }
    .list-item:active { background: #38bdf8; color: #000; }
    .list-text { font-size: 18px; font-weight: 500; } /* ê¸€ì”¨ í¼ */

    /* ê°€ì´ë“œ ìŠ¤íƒ€ì¼ */
    .guide-step { background: #1e293b; padding: 20px; border-radius: 16px; margin-bottom: 16px; border: 1px solid #374151; }
    .step-num { font-size: 15px; color: #38bdf8; font-weight: 700; margin-bottom: 8px; }
    .step-content { font-size: 17px; line-height: 1.5; color: #f3f4f6; }
    .step-img-box { margin-top: 12px; width: 100%; height: 140px; background: #0f172a; border-radius: 8px; display: flex; align-items: center; justify-content: center; font-size: 40px; color: #475569; border: 1px dashed #475569; }

    /* ì±„íŒ… ìŠ¤íƒ€ì¼ */
    .chat-area { flex: 1; overflow-y: auto; display: flex; flex-direction: column; gap: 14px; padding-bottom: 10px; }
    .message { max-width: 85%; padding: 14px 18px; border-radius: 16px; font-size: 16px; line-height: 1.4; }
    .msg-ai { align-self: flex-start; background: #334155; color: #fff; border-bottom-left-radius: 2px; }
    .msg-user { align-self: flex-end; background: #2563eb; color: #fff; border-bottom-right-radius: 2px; }
    .chat-input-area { display: flex; gap: 10px; align-items: center; background: #1e293b; padding: 10px; border-radius: 999px; border: 1px solid #374151; }
    .chat-input { flex: 1; background: none; border: none; color: white; padding-left: 10px; font-size: 16px; outline: none; }
    .send-btn, .mic-btn { width: 44px; height: 44px; border-radius: 50%; border: none; cursor: pointer; display: flex; justify-content: center; align-items: center; font-size: 20px; }
    .mic-btn { background: #dc2626; color: white; }
    .mic-btn.idle { background: #475569; }
    .send-btn { background: #38bdf8; color: #000; font-weight: bold; }

    .result-card { background: linear-gradient(135deg, #1e293b 0, #0f172a 100%); padding: 18px; border-radius: 14px; border: 1px solid #38bdf8; margin-top: 8px; }
    .result-title { color: #38bdf8; font-weight: 700; margin-bottom: 6px; font-size: 17px; }
    .result-desc { font-size: 14px; color: #cbd5f5; margin-bottom: 12px; }
    .buy-btn { width: 100%; padding: 12px; background: #2563eb; color: white; border: none; border-radius: 8px; font-weight: 600; cursor: pointer; font-size: 15px; }

  </style>
</head>
<body>
  <div class="phone">
    
    <div id="screen-splash" class="screen center-layout active">
      <div style="text-align: center;">
        <div class="splash-title">PROJECT</div>
        <div class="brand">DigitalBridge</div>
        <div class="splash-sub">ì‰½ê³  ê°„í¸í•œ<br/>ìƒí™œ ì „ìê¸°ê¸° ì‚¬ìš© ì•ˆë‚´ ì„œë¹„ìŠ¤</div>
      </div>
      <div class="loader-wrapper">
        <svg class="loader" viewBox="0 0 80 80">
          <circle class="loader-bg" cx="40" cy="40" r="30" />
          <circle class="loader-progress" cx="40" cy="40" r="30" />
        </svg>
        <span>ì¤€ë¹„í•˜ëŠ” ì¤‘ì…ë‹ˆë‹¤â€¦</span>
      </div>
    </div>

    <div id="screen-role" class="screen center-layout">
      <div class="role-wrapper">
        <div class="role-chip">DigitalBridge Â· ëª¨ë“œ ì„ íƒ</div>
        <div class="role-title">ëˆ„êµ¬ë¡œ ì´ìš©í•˜ì‹œë‚˜ìš”?</div>
        <div class="role-desc">
          ì¡°ë¶€ëª¨ë‹˜ì€ ì‚¬ìš©ë²• ì•ˆë‚´ë¥¼,<br/>
          ì†ì£¼ëŠ” ê·¸ ëª¨ìŠµì„ ë„ì™€ì£¼ëŠ” í™”ë©´ì„ ë³´ê²Œ ë©ë‹ˆë‹¤.
        </div>
        <div class="role-boxes">
          <div class="role-card" onclick="alert('ì†ì£¼ ëª¨ë“œëŠ” ì¤€ë¹„ ì¤‘ì…ë‹ˆë‹¤.')">
            <div class="role-card-icon">ğŸ§‘â€ğŸ’»</div>
            <div class="role-main">ì†ì£¼ ëª¨ë“œ</div>
            <div class="role-sub">ëŒ€ì‹  ì°¾ì•„ë³´ê³ <br/>ë„ì™€ì£¼ëŠ” í™”ë©´</div>
          </div>
          <div class="role-card active" onclick="goToScreen('screen-loading2')">
            <div class="role-card-icon">ğŸ‘µ</div>
            <div class="role-main">ì¡°ë¶€ëª¨ ëª¨ë“œ</div>
            <div class="role-sub">ì‚¬ìš©ë²•ì´ ê¶ê¸ˆí•œ<br/>ì–´ë¥´ì‹ </div>
          </div>
        </div>
      </div>
    </div>

    <div id="screen-loading2" class="screen center-layout">
      <div style="text-align:center; gap:16px; display:flex; flex-direction:column;">
        <div style="font-size:20px; font-weight:600;">ì¡°ë¶€ëª¨ ëª¨ë“œë¥¼ ì¤€ë¹„í•˜ê³  ìˆì–´ìš”</div>
        <div style="font-size:14px; color:#9ca3af;">ì–´ë¥´ì‹ ê»˜ ê¼­ í•„ìš”í•œ ì •ë³´ë¥¼<br/>ë³´ê¸° ì¢‹ê²Œ ì •ë¦¬í•˜ëŠ” ì¤‘ì…ë‹ˆë‹¤â€¦</div>
      </div>
      <div class="loader-wrapper">
        <svg class="loader" viewBox="0 0 80 80">
          <circle class="loader-bg" cx="40" cy="40" r="30" />
          <circle class="loader-progress" cx="40" cy="40" r="30" />
        </svg>
        <span>ì ì‹œë§Œ ê¸°ë‹¤ë ¤ ì£¼ì„¸ìš”</span>
      </div>
    </div>

    <div id="screen-home" class="screen">
      <div class="status-bar">
        <div class="status-left">
          <span style="width:6px; height:6px; background:#22c55e; border-radius:50%; display:inline-block; margin-right:4px;"></span>
          <span>DigitalBridge</span>
        </div>
        <div class="status-right"><span>ì•ˆì‹¬ ëª¨ë“œ</span></div>
      </div>

      <div class="header">
        <div class="header-left">
          <div class="app-name">DigitalBridge - HOME</div>
          <div class="app-sub">ì‰½ê³  ê°„í¸í•œ ì „ìê¸°ê¸° ë„ìš°ë¯¸</div>
        </div>
        <div class="header-badge">PROJECT Â· Beta</div>
      </div>

      <div class="home-body">
        <div style="margin-bottom:4px;">
          <div class="home-title">ë¬´ì—‡ì„ ë„ì™€ë“œë¦´ê¹Œìš”?</div>
          <div class="home-desc">ì´ë§ˆê¸°ë‚œìŠ¤(T)-Aì¡°ì˜<br/>ì‰½ê³  ê°„í¸í•œ ë””ì§€í„¸ ì•ˆë‚´ ì„œë¹„ìŠ¤!</div>
        </div>

        <div class="home-buttons">
          <button class="home-btn" onclick="startUsageFlow()">
            <div>
              <div class="home-btn-main">ëª¨ë¥´ëŠ” ì „ìê¸°ê¸° ì‚¬ìš©ë²• ì•Œì•„ë³´ê¸°</div>
              <div class="home-btn-sub">ì „ìë ˆì¸ì§€, ì„¸íƒê¸°, ì—ì–´ì»¨ ë“±<br/>ëˆˆì•ì— ìˆëŠ” ê¸°ê¸° ì‚¬ìš©ë²•ì„ ì•ˆë‚´í•©ë‹ˆë‹¤.</div>
            </div>
            <span class="home-btn-icon">ğŸ“˜</span>
          </button>

          <button class="home-btn secondary" onclick="startFindFlow()">
            <div>
              <div class="home-btn-main">í•„ìš”í•œ ì „ìê¸°ê¸° ì°¾ê¸°</div>
              <div class="home-btn-sub">"ì§‘ì´ ë„ˆë¬´ ê±´ì¡°í•´ìš”" ì²˜ëŸ¼ ê³ ë¯¼ì„ ë§í•˜ë©´<br/>ì–´ìš¸ë¦¬ëŠ” ê¸°ê¸°ë¥¼ ì¶”ì²œí•´ ë“œë¦½ë‹ˆë‹¤.</div>
            </div>
            <span class="home-btn-icon">ğŸ§­</span>
          </button>
        </div>

        <div class="info-section">
          <div class="info-row">
            <div class="info-card" onclick="alert('ìì£¼ ë¬»ëŠ” ì§ˆë¬¸ (ì¤€ë¹„ ì¤‘)')">
              <div class="info-card-header">
                <div class="info-card-title">ìì£¼ ë¬»ëŠ” ì§ˆë¬¸</div>
                <div>â“</div>
              </div>
              <div class="info-card-text">"ë¦¬ëª¨ì»¨ì´ ì•ˆ ëˆŒë ¤ìš”" ê°™ì€ ì§ˆë¬¸ ëª¨ìŒ</div>
            </div>
            <div class="info-card" onclick="alert('ì˜¤ëŠ˜ ë§ì´ ë³¸ ê¸°ëŠ¥ (ì¤€ë¹„ ì¤‘)')">
              <div class="info-card-header">
                <div class="info-card-title">ì˜¤ëŠ˜ ë§ì´ ë³¸ ê¸°ëŠ¥</div>
                <div>â­</div>
              </div>
              <div class="info-card-text">ë‹¤ë¥¸ ë¶„ë“¤ì´ ë§ì´ ë³¸ ë‚´ìš©</div>
            </div>
          </div>

          <div class="info-card info-card-wide" onclick="alert('ê¸´ê¸‰ ë„ì›€ (ì¤€ë¹„ ì¤‘)')">
            <div class="info-card-header">
              <div class="info-card-title">ê¸´ê¸‰ ë„ì›€!</div>
              <div>ğŸš¨</div>
            </div>
            <div class="info-card-text">TV í™”ë©´ ì•ˆ ë‚˜ì˜´ / ì¸í„°ë„· ëŠê¹€ í•´ê²° ë°©ë²•</div>
          </div>
        </div>

        <div class="voice-area">
          <button class="voice-btn" onclick="startFindFlow()">ğŸ¤</button>
          <div class="voice-label">ìŒì„± ë²„íŠ¼ì„ ëˆŒëŸ¬ë³´ì„¸ìš”</div>
        </div>
      </div>
    </div>

    <div id="screen-usage-category" class="screen">
      <div class="header-nav">
        <button class="back-btn" onclick="goToScreen('screen-home')">â†</button>
        <span class="page-title">ì–´ë–¤ ê¸°ê¸°ì¸ê°€ìš”?</span>
      </div>
      <div class="list-container" id="list-category"></div>
    </div>

    <div id="screen-usage-brand" class="screen">
      <div class="header-nav">
        <button class="back-btn" onclick="goToScreen('screen-usage-category')">â†</button>
        <span class="page-title">ì–´ëŠ íšŒì‚¬ ì œí’ˆì¸ê°€ìš”?</span>
      </div>
      <div class="list-container" id="list-brand"></div>
    </div>

    <div id="screen-usage-model" class="screen">
      <div class="header-nav">
        <button class="back-btn" onclick="goToScreen('screen-usage-brand')">â†</button>
        <span class="page-title">ì–´ë–¤ ëª¨ì–‘ì¸ê°€ìš”?</span>
      </div>
      <div class="list-container" id="list-model"></div>
    </div>

    <div id="screen-usage-guide" class="screen">
      <div class="header-nav">
        <button class="back-btn" onclick="goToScreen('screen-usage-model')">â†</button>
        <span class="page-title">ì‚¬ìš© ë°©ë²• ì•ˆë‚´</span>
      </div>
      <div class="list-container" id="guide-content" style="padding-bottom:20px;"></div>
      <button class="home-btn secondary" style="flex:0; margin-top:10px; padding:15px; justify-content:center;" onclick="goToScreen('screen-home')">
        <span style="font-weight:bold;">ì²˜ìŒìœ¼ë¡œ ëŒì•„ê°€ê¸°</span>
      </button>
    </div>

    <div id="screen-find" class="screen">
      <div class="header-nav">
        <button class="back-btn" onclick="goToScreen('screen-home')">â†</button>
        <span class="page-title">ê¸°ê¸° ì¶”ì²œ ë°›ê¸°</span>
      </div>
      
      <div class="chat-area" id="chat-box"></div>

      <div class="chat-input-area">
        <button class="mic-btn idle" id="mic-btn" onclick="toggleMic()">ğŸ¤</button>
        <input type="text" class="chat-input" id="chat-input" placeholder="ì§ì ‘ ì…ë ¥í•˜ê±°ë‚˜ ë§í•˜ê¸°..." />
        <button class="send-btn" onclick="sendMessage()">ì „ì†¡</button>
      </div>
    </div>

  </div>

  <script>
    // --- [ë°ì´í„° ë² ì´ìŠ¤] ---
    const applianceData = {
      "microwave": {
        name: "ì „ìë ˆì¸ì§€", icon: "ğŸ±",
        brands: ["ì‚¼ì„±ì „ì", "LGì „ì", "SKë§¤ì§"],
        models: ["ë²„íŠ¼ì‹ (ì¼ë°˜í˜•)", "ë‹¤ì´ì–¼ì‹ (ëŒë¦¬ëŠ” ê±°)", "í„°ì¹˜ì‹ (í‰í‰í•œ ê±°)"],
        guide: [
          { text: "ì†ì¡ì´ë¥¼ ë‹¹ê²¨ ë¬¸ì„ ì—´ê³ , ìŒì‹ì„ ê°€ìš´ë° ë„£ì–´ì£¼ì„¸ìš”.", img: "ğŸšª" },
          { text: "ë¬¸ì„ ë‹«ì€ ë’¤, 'ì¡°ë¦¬ ì‹œì‘' ë˜ëŠ” '30ì´ˆ' ë²„íŠ¼ì„ ëˆ„ë¥´ì„¸ìš”.", img: "ğŸ‘†" },
          { text: "ê¸°ê³„ê°€ ë©ˆì¶”ê³  'ë•¡' ì†Œë¦¬ê°€ ë‚˜ë©´ ì¡°ì‹¬í•´ì„œ êº¼ë‚´ì„¸ìš”. ëœ¨ê±°ìš°ë‹ˆ ì£¼ì˜í•˜ì„¸ìš”!", img: "â™¨ï¸" }
        ]
      },
      "washing": {
        name: "ì„¸íƒê¸°", icon: "ğŸ‘•",
        brands: ["ì‚¼ì„±ì „ì", "LGì „ì", "ìœ„ë‹ˆì•„"],
        models: ["í†µëŒì´ (ìœ„ë¡œ ì—¬ëŠ”)", "ë“œëŸ¼ (ì•ìœ¼ë¡œ ì—¬ëŠ”)"],
        guide: [
          { text: "ë¹¨ë˜ë¥¼ ë„£ê³  ì„¸ì œí•¨ì— ì„¸ì œë¥¼ í•œ ìŠ¤í‘¼ ë„£ìœ¼ì„¸ìš”.", img: "ğŸ§º" },
          { text: "ì „ì› ë²„íŠ¼ì„ ëˆ„ë¥´ê³  'í‘œì¤€ ì„¸íƒ'ì„ ì„ íƒí•˜ì„¸ìš”.", img: "ğŸ”˜" },
          { text: "ë™ì‘ ë²„íŠ¼(ì¬ìƒ ëª¨ì–‘)ì„ ëˆ„ë¥´ë©´ ë¬¼ì´ ë‚˜ì˜¤ë©° ì‹œì‘ë©ë‹ˆë‹¤.", img: "â–¶ï¸" }
        ]
      },
      "ac": {
        name: "ì—ì–´ì»¨", icon: "â„ï¸",
        brands: ["ì‚¼ì„±ì „ì", "LGì „ì", "ìºë¦¬ì–´"],
        models: ["ìŠ¤íƒ ë“œí˜• (ì„¸ì›Œë‘” ê±°)", "ë²½ê±¸ì´í˜•"],
        guide: [
          { text: "ë¦¬ëª¨ì»¨ì˜ 'ìš´ì „/ì •ì§€' ë²„íŠ¼ì„ ëˆŒëŸ¬ ì¼œì„¸ìš”.", img: "ğŸ“±" },
          { text: "ì˜¨ë„ ë‚´ë¦¼(â–¼) ë²„íŠ¼ì„ ëˆŒëŸ¬ í¬ë§ ì˜¨ë„ë¥¼ 24ë„ë¡œ ë§ì¶”ì„¸ìš”.", img: "ğŸŒ¡ï¸" },
          { text: "ë°”ëŒ ì„¸ê¸° ë²„íŠ¼ì„ ëˆŒëŸ¬ ì‹œì›í•˜ê²Œ ì¡°ì ˆí•˜ì„¸ìš”.", img: "ğŸŒ¬ï¸" }
        ]
      },
      "tv": {
        name: "TV / ë¦¬ëª¨ì»¨", icon: "ğŸ“º",
        brands: ["ì‚¼ì„±ì „ì", "LGì „ì", "ì¤‘ì†Œê¸°ì—…"],
        models: ["ì¼ë°˜ ë¦¬ëª¨ì»¨", "ì…‹í†±ë°•ìŠ¤ ë¦¬ëª¨ì»¨"],
        guide: [
          { text: "ë¹¨ê°„ìƒ‰ ì „ì› ë²„íŠ¼ì„ ëˆŒëŸ¬ TVë¥¼ ì¼œì„¸ìš”.", img: "ğŸ”´" },
          { text: "ì±„ë„ ìœ„/ì•„ë˜ ë²„íŠ¼ìœ¼ë¡œ ë°©ì†¡ì„ ë³€ê²½í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.", img: "ğŸ“º" },
          { text: "ì†Œë¦¬ê°€ ì•ˆ ë“¤ë¦¬ë©´ ìŒëŸ‰(+) ë²„íŠ¼ì„ ê³„ì† ëˆ„ë¥´ì„¸ìš”.", img: "ğŸ”Š" }
        ]
      }
    };

    let currentCategory = null;
    let currentBrand = null;
    let currentModel = null;
    let isRecording = false;

    function goToScreen(screenId) {
      document.querySelectorAll('.screen').forEach(el => el.classList.remove('active'));
      const target = document.getElementById(screenId);
      if (target) target.classList.add('active');
    }

    // ë¡œë“œ ì‹œ ìŠ¤í”Œë˜ì‹œ -> ì—­í•  ì„ íƒ
    window.addEventListener('load', () => {
      setTimeout(() => goToScreen('screen-role'), 2500);
      
      const obs = new MutationObserver((mutations) => {
        mutations.forEach((mutation) => {
          if (mutation.target.id === 'screen-loading2' && mutation.target.classList.contains('active')) {
            setTimeout(() => goToScreen('screen-home'), 2000);
          }
        });
      });
      obs.observe(document.getElementById('screen-loading2'), { attributes: true });
    });

    // [ê¸°ëŠ¥ 1] ì‚¬ìš©ë²• ë¡œì§
    function startUsageFlow() {
      const listContainer = document.getElementById('list-category');
      listContainer.innerHTML = ''; 
      Object.keys(applianceData).forEach(key => {
        const item = applianceData[key];
        const div = document.createElement('div');
        div.className = 'list-item';
        div.innerHTML = `<span class="list-text">${item.name}</span><span style="font-size:24px;">${item.icon}</span>`;
        div.onclick = () => { currentCategory = key; showBrandList(); };
        listContainer.appendChild(div);
      });
      goToScreen('screen-usage-category');
    }

    function showBrandList() {
      const listContainer = document.getElementById('list-brand');
      listContainer.innerHTML = '';
      applianceData[currentCategory].brands.forEach(brand => {
        const div = document.createElement('div');
        div.className = 'list-item';
        div.innerHTML = `<span class="list-text">${brand}</span><span style="font-size:24px;">ğŸ¢</span>`;
        div.onclick = () => { currentBrand = brand; showModelList(); };
        listContainer.appendChild(div);
      });
      goToScreen('screen-usage-brand');
    }

    function showModelList() {
      const listContainer = document.getElementById('list-model');
      listContainer.innerHTML = '';
      applianceData[currentCategory].models.forEach(model => {
        const div = document.createElement('div');
        div.className = 'list-item';
        div.innerHTML = `<span class="list-text">${model}</span><span style="font-size:24px;">âš™ï¸</span>`;
        div.onclick = () => { currentModel = model; showGuide(); };
        listContainer.appendChild(div);
      });
      goToScreen('screen-usage-model');
    }

    function showGuide() {
      const content = document.getElementById('guide-content');
      content.innerHTML = '';
      const titleDiv = document.createElement('div');
      titleDiv.style.marginBottom = "10px";
      titleDiv.style.color = "#38bdf8";
      titleDiv.innerHTML = `${applianceData[currentCategory].name} > ${currentBrand} > ${currentModel}`;
      content.appendChild(titleDiv);

      applianceData[currentCategory].guide.forEach((step, index) => {
        const div = document.createElement('div');
        div.className = 'guide-step';
        div.innerHTML = `
          <div class="step-num">STEP ${index + 1}</div>
          <div class="step-content">${step.text}</div>
          <div class="step-img-box">${step.img}</div>
        `;
        content.appendChild(div);
      });
      goToScreen('screen-usage-guide');
    }

    // [ê¸°ëŠ¥ 2] ê¸°ê¸° ì°¾ê¸° ë¡œì§
    function startFindFlow() {
      const chatBox = document.getElementById('chat-box');
      chatBox.innerHTML = `
        <div class="message msg-ai">
          ì•ˆë…•í•˜ì„¸ìš”! ì–´ë¥´ì‹ .<br/>
          ì–´ë–¤ ì ì´ ë¶ˆí¸í•˜ì‹ ê°€ìš”?<br/>
          (ì˜ˆ: "ì²­ì†Œê°€ ë„ˆë¬´ í˜ë“¤ì–´", "ì§‘ì´ ë„ˆë¬´ ê±´ì¡°í•´")
        </div>
      `;
      document.getElementById('chat-input').value = "";
      goToScreen('screen-find');
    }

    function toggleMic() {
      const btn = document.getElementById('mic-btn');
      const input = document.getElementById('chat-input');
      
      if (!isRecording) {
        isRecording = true;
        btn.classList.remove('idle');
        btn.innerHTML = "â¹";
        input.placeholder = "ë“£ê³  ìˆìŠµë‹ˆë‹¤... ë§ì”€í•´ì£¼ì„¸ìš”";
        setTimeout(() => {
          if(isRecording) {
            input.value = "ì²­ì†Œê°€ ë„ˆë¬´ í˜ë“¤ì–´ì„œ ê¸°ê³„ê°€ ëŒ€ì‹  í•´ì¤¬ìœ¼ë©´ ì¢‹ê² ì–´";
            toggleMic();
            sendMessage();
          }
        }, 3000);
      } else {
        isRecording = false;
        btn.classList.add('idle');
        btn.innerHTML = "ğŸ¤";
        input.placeholder = "ì§ì ‘ ì…ë ¥í•˜ê±°ë‚˜ ë§í•˜ê¸°...";
      }
    }

    function sendMessage() {
      const input = document.getElementById('chat-input');
      const text = input.value.trim();
      if (!text) return;
      const chatBox = document.getElementById('chat-box');

      const userMsg = document.createElement('div');
      userMsg.className = 'message msg-user';
      userMsg.innerText = text;
      chatBox.appendChild(userMsg);
      input.value = "";
      chatBox.scrollTop = chatBox.scrollHeight;

      setTimeout(() => {
        let reply = "";
        let recommendation = null;

        if (text.includes("ì²­ì†Œ") || text.includes("í˜ë“¤") || text.includes("ë¬´ë¦")) {
          reply = "ì²­ì†Œê°€ í˜ë“œì‹œêµ°ìš”. ì•Œì•„ì„œ ë°”ë‹¥ì„ ë‹¦ì•„ì£¼ëŠ” 'ë¡œë´‡ ì²­ì†Œê¸°'ë¥¼ ì¶”ì²œí•´ ë“œë¦½ë‹ˆë‹¤.";
          recommendation = { title: "íš¨ë„ ë¡œë´‡ ì²­ì†Œê¸° (ë¬¼ê±¸ë ˆ ê²¸ìš©)", desc: "ë²„íŠ¼ í•œ ë²ˆë§Œ ëˆ„ë¥´ë©´ ì˜¨ ì§‘ì•ˆì„ ë‹¦ì•„ì¤ë‹ˆë‹¤." };
        } else if (text.includes("ê±´ì¡°") || text.includes("ëª©") || text.includes("ê¸°ì¹¨")) {
          reply = "ì§‘ì•ˆ ê³µê¸°ê°€ ê±´ì¡°í•˜ì‹ ê°€ ë´ìš”. ìŠµë„ë¥¼ ì¡°ì ˆí•´ì£¼ëŠ” 'ê°€ì—´ì‹ ê°€ìŠµê¸°'ê°€ ì¢‹ìŠµë‹ˆë‹¤.";
          recommendation = { title: "ë”°ëœ»í•œ ê°€ìŠµê¸° (ëŒ€ìš©ëŸ‰)", desc: "ë¬¼ì„ ë“ì—¬ì„œ ë‚˜ì™€ ì„¸ê·  ê±±ì •ì´ ì—†ê³  ë”°ëœ»í•©ë‹ˆë‹¤." };
        } else if (text.includes("ì„¤ê±°ì§€") || text.includes("ê·¸ë¦‡")) {
          reply = "ì„¤ê±°ì§€ ë•Œë¬¸ì— ì†ëª©ì´ ì•„í”„ì‹œì£ ? 'ì‹ê¸°ì„¸ì²™ê¸°'ë¥¼ ì‚¬ìš©í•´ë³´ì„¸ìš”.";
          recommendation = { title: "6ì¸ìš© ì‹ê¸°ì„¸ì²™ê¸°", desc: "ê·¸ë¦‡ë§Œ ë„£ìœ¼ë©´ ì”»ê³  ë§ë ¤ì¤ë‹ˆë‹¤." };
        } else {
          reply = "ì œê°€ ì˜ ì´í•´í•˜ì§€ ëª»í–ˆì–´ìš”. 'ì²­ì†Œ', 'ê±´ì¡°', 'ì„¤ê±°ì§€' ì²˜ëŸ¼ ë‹¨ì–´ë¡œ ë§ì”€í•´ ì£¼ì‹œê² ì–´ìš”?";
        }

        const aiMsg = document.createElement('div');
        aiMsg.className = 'message msg-ai';
        aiMsg.innerHTML = reply;
        chatBox.appendChild(aiMsg);

        if (recommendation) {
          const card = document.createElement('div');
          card.className = 'result-card';
          card.innerHTML = `
            <div class="result-title">ì¶”ì²œ: ${recommendation.title}</div>
            <div class="result-desc">${recommendation.desc}</div>
            <button class="buy-btn" onclick="alert('ê°€ê¹Œìš´ íŒë§¤ì ì„ ì§€ë„ë¡œ ë³´ì—¬ë“œë¦½ë‹ˆë‹¤ (ì¤€ë¹„ ì¤‘)')">íŒë§¤ì  ìœ„ì¹˜ ë³´ê¸°</button>
          `;
          chatBox.appendChild(card);
        }
        chatBox.scrollTop = chatBox.scrollHeight;
      }, 1000);
    }
  </script>
</body>
</html>
